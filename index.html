<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Social Dogs</title>

    <link rel="icon" href="src/paw-logo.png">

    <!-- Referencia a Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <!-- Referencia a jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

</head>

<body onload="crearCarta()" style="background-color: #272c30;">
    <main>
        <div id="posts" class="row mt-4">
            <!-- <div id="referencia" class="col">
                <div class="card text-bg-dark mb-3 rounded-4 shadow-lg border-0" style="width: 40rem;">
                    <div class="card-body px-4 pt-4 pb-1">
                        <div class="px-2 pb-4">
                            <div class="d-flex gap-3 pb-2">
                                <div>
                                    <img src="src/Rick.jpeg" class="rounded-circle shadow-lg ratio ratio-1x1"
                                        Style="width: 3rem;" alt="Perfil">
                                </div>
                                <div class="d-flex my-auto">
                                    <h5 class="card-title fw-bold fs-4 text-capitalize">Rick Sanchez · Malamute</h5>
                                </div>
                            </div>
                            <p class="card-text fw-semibold fs-5">No hay nada como la vista de Luna corriendo y jugando
                                en
                                el
                                campo. Me encanta cómo su pelaje se mezcla con la hierba y las plantas, ¡parece una
                                verdadera reina de la naturaleza!</p>
                        </div>

                        <div>
                            <div class="ratio ratio-16x9">
                                <img src="src/perro.jpg" class="card-img-bottom rounded-4 object-fit-cover shadow-lg"
                                    alt="Alaskan Malamute">
                            </div>
                        </div>
                        <div class="px-2 py-1">
                            <span class="card-title fw-lighter fs-6 text-capitalize">Santiago, Chile · 18°</span>
                        </div>
                    </div>
                </div>
            </div> -->





        </div>

    </main>



    <script>

        function crearCarta() {





            $.get("https://dog.ceo/api/breeds/image/random", function (perro) {
                urlImgPerro = perro.message;


                const url = urlImgPerro;
                const regex = /breeds\/(.+?)\//;
                const match = url.match(regex);

                const raza = match[1];


                var id = Math.floor(Math.random() * (826 - 1) + 1);
                $.get("https://randomuser.me/api/", function (usuario) {

                    $.get("https://api.weatherapi.com/v1/current.json?key=dcf3e5f1708e48f18e472023230605&q=" + usuario.results[0].location.city, function (clima) {

                        var carta = "";
                        carta += '<div class="col">'
                        carta += '<div  class="card text-bg-dark mb-3 rounded-4 shadow-lg border-0" style="width: 40rem;">'
                        carta += '<div class="card-body px-4 pt-4 pb-1">'
                        carta += '<div class="px-2 pb-4">'
                        carta += '<div class="d-flex gap-3 pb-2">'
                        carta += '<div>'
                        carta += '<img src="' + usuario.results[0].picture.thumbnail + '" class="rounded-circle shadow-lg ratio ratio-1x1"'
                        carta += 'Style="width: 3rem;" alt="Perfil">'
                        carta += '</div>'
                        carta += '<div class="d-flex my-auto">'
                        carta += '<h5 class="card-title fw-bold fs-4 text-capitalize">' + usuario.results[0].name.first + " " + usuario.results[0].name.last + ' · ' + raza + '</h5>'
                        carta += '</div>'
                        carta += '</div>'
                        carta += '<p class="card-text fw-semibold fs-5">No hay nada como la vista de Luna corriendo y jugando en'
                        carta += 'el'
                        carta += 'campo. Me encanta cómo su pelaje se mezcla con la hierba y las plantas, ¡parece una'
                        carta += 'verdadera reina de la naturaleza!</p>'
                        carta += '</div>'
                        carta += '<div>'
                        carta += '<div class="">'
                        carta += '<img src="' + urlImgPerro + '" class="card-img-bottom rounded-4  object-fit-cover shadow-lg"'
                        carta += 'alt="Alaskan Malamute">'
                        carta += '</div>'
                        carta += '</div>'
                        carta += '<div class="px-2 py-1">'
                        carta += '<span class="card-title fw-lighter fs-6 text-capitalize">' + usuario.results[0].location.city + ", " + usuario.results[0].location.country + " | "+ clima.current.temp_c +'°</span>'
                        carta += '</div>'
                        carta += '</div>'
                        carta += '</div>'
                        carta += '</div>'
                        $("#posts").html(carta);
                    });
                });
            });


        }
    </script>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
</body>

</html>